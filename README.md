# Сервис сокращения ссылок (CLI)

Консольное приложение на Java для сокращения URL со следующими возможностями:
- создание коротких ссылок;
- уникальные ссылки для разных пользователей (идентификация по UUID без авторизации);
- ограничение по количеству переходов;
- ограничение по времени жизни (TTL) и автоудаление “протухших” ссылок;
- уведомления в консоль при истечении TTL / исчерпании лимита;
- переход по ссылке через команду `open` (открытие в браузере или вывод URL, если браузер недоступен).

## Требования
- Java 17+ (или 21)
- Maven

## Запуск
1. Настройте конфиг:
    - файл: `config/app.properties`

Пример:
```properties
ttlSeconds=86400
defaultMaxClicks=10
baseUrl=http://localhost/
storageFile=data/links.json
userUuidFile=data/user.uuid
cleanupIntervalSeconds=30
```

2. Сборка и запуск:

> mvn clean package
java -jar target/<имя-вашего-jar>.jar

## Команды CLI

- create <url> [лимит] — создать короткую ссылку

- open <код> — перейти по ссылке (приложение откроет исходный URL в браузере)

- list — список ваших ссылок

- delete <код> — удалить ссылку (только владелец)

- limit <код> <новый_лимит> — изменить лимит переходов (только владелец)

- whoami — показать текущий UUID

- user <uuid> — переключиться на пользователя по UUID

- newuser — создать нового пользователя и переключиться

## Пример сценария (проверка мультипользовательского режима)
> create https://mail.ru 5
Код: Ab12Cd

> newuser
Создан новый пользователь...

> create https://mail.ru 5
Код: Xy98Zt


Один и тот же URL у разных пользователей даёт разные короткие коды.

## Хранение данных

Ссылки сохраняются в JSON-файл, путь задаётся параметром storageFile.
UUID текущего пользователя хранится в файле userUuidFile.

## Тестирование

Запуск тестов: 
> mvn test